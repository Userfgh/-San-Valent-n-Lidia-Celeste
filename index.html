<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="/manifest.json">
    <title>¬øPuedo ser tu San Valent√≠n?</title>
    <style>
        /* Aplicar el box-sizing global para una mejor gesti√≥n de tama√±os */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #ffeef2;
            flex-direction: column;
            padding: 0 10px; /* Agregar espaciado lateral */
        }

        img {
            width: 50vw; /* La imagen ocupa el 50% del ancho de la ventana */
            max-width: 300px; /* Limitar tama√±o m√°ximo */
            margin-bottom: 20px;
        }

        .contenedor {
            text-align: center;
            border: 2px solid #ff60a2;
            border-radius: 10px;
            padding: 30px;
            background-color: #fff;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 80%; /* Contenedor usa el 80% del ancho disponible */
            max-width: 400px; /* Limita el ancho m√°ximo del contenedor */
        }

        h1 {
            color: #ff60a2;
            font-size: 6vw; /* El tama√±o se ajusta seg√∫n el ancho de la ventana */
            margin-bottom: 20px;
        }

        p {
            font-size: 3vw; /* El tama√±o se ajusta proporcionalmente */
            color: #333;
            margin-bottom: 20px;
        }

        .botones {
            display: flex;
            justify-content: space-between;
            gap: 10px; /* Separaci√≥n entre botones */
        }

        .boton {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 4vw; /* Tama√±o de fuente relativo */
            transition: all 0.3s ease-in-out;
            flex-grow: 1;
        }

        .verde {
            background-color: #28a745;
            color: white;
        }

        .rojo {
            background-color: #dc3545;
            color: white;
        }

        /* Animaci√≥n para estirar el bot√≥n verde */
        .verde.estirado {
            width: 100%;
            margin: 0;
        }

        /* Desactivar clics en el bot√≥n rojo */
        .rojo.no-clickeable {
            pointer-events: none;
        }
        
        /* Bot√≥n de instalaci√≥n personalizado */
        #installBtn {
            display: none;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 4vw; /* Tama√±o de fuente relativo */
            transition: all 0.3s ease-in-out;
        }

    </style>
</head>

<body>
    <!-- Imagen en la parte superior -->
    <img id="imagenPreview" src="uno-preview.png" alt="Imagen de San Valent√≠n">

    <!-- Agregamos el audio aqu√≠ -->
    <audio controls autoplay>
        <source src="01.mp3" type="audio/mp3">
        Tu navegador no soporta el elemento de audio.
    </audio>
    <br>

    <div class="contenedor" id="contenedor">
        <h1>¬øPuedo ser tu San Valent√≠n?</h1>
        <p>Haz tu elecci√≥n...y espera 3seg</p>
        <div class="botones">
            <button class="boton verde" id="siBtn">S√≠</button>
            <button class="boton rojo" id="noBtn">No</button>
        </div>
    </div>
    
    <!-- Bot√≥n de instalaci√≥n personalizado -->
    <button id="installBtn">Instalar App</button>

    <script>
        let deferredPrompt;

        window.addEventListener('beforeinstallprompt', (event) => {
            // Evita que el navegador muestre el aviso de instalaci√≥n autom√°tico
            event.preventDefault();
            // Guarda el evento para usarlo m√°s tarde
            deferredPrompt = event;
            // Muestra el bot√≥n de instalaci√≥n personalizado
            document.getElementById('installBtn').style.display = 'block';
        });

        document.getElementById('installBtn').addEventListener('click', () => {
            // Oculta el bot√≥n de instalaci√≥n personalizado
            document.getElementById('installBtn').style.display = 'none';
            // Muestra el aviso de instalaci√≥n
            deferredPrompt.prompt();
            // Espera la elecci√≥n del usuario
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('Usuario acept√≥ la instalaci√≥n');
                } else {
                    console.log('Usuario rechaz√≥ la instalaci√≥n');
                }
                deferredPrompt = null;
            });
        });

        const verdeBtn = document.getElementById("siBtn");
        const rojoBtn = document.getElementById("noBtn");
        const imagenPreview = document.getElementById("imagenPreview");

        // Funci√≥n para abrir WhatsApp con un mensaje
        function abrirWhatsApp(mensaje) {
            const mensajeCodificado = encodeURIComponent(mensaje);
            window.open(`https://api.whatsapp.com/send?text=${mensajeCodificado}`, '_blank');
        }

        // Cuando se hace clic en el bot√≥n "No"
        rojoBtn.addEventListener("click", () => {
            // Cambiar la imagen a dos-preview.png
            imagenPreview.src = "dos-preview.png";

            // Desactivar ambos botones para evitar m√∫ltiples clics
            verdeBtn.disabled = true;
            rojoBtn.disabled = true;

            // Esperar 3 segundos antes de abrir WhatsApp
            setTimeout(() => {
                const mensajeNo = "Eligiste que no üôÑ, pero ahora ya no hay marcha atr√°s. Ahora est√°s conmigo y no hay excusas üòë. El castigo por decir que no es este: me vas a tener que pasar una fotito üòè. As√≠ que prep√°rate mi amorcito ü§†üíô... ¬°Ya no hay escape!";
                abrirWhatsApp(mensajeNo);
            }, 3000); // 3000 milisegundos = 3 segundos
        });

        // Cuando se hace clic en el bot√≥n "S√≠"
        verdeBtn.addEventListener("click", () => {
            // Cambiar la imagen a tres-preview.png cuando se hace clic en "S√≠"
            imagenPreview.src = "tres-preview.png";

            // Mostrar la alerta personalizada
            alert("¬°Tqm, T amo muchote mi ni√±a, perd√≥n por hacerla sentir mal, tu premio lidia mi futura mujer ‚ô•! JAJ");

            // Desactivar ambos botones para evitar m√∫ltiples clics
            verdeBtn.disabled = true;
            rojoBtn.disabled = true;

            // Esperar 3 segundos antes de abrir WhatsApp
            setTimeout(() => {
                const mensajeSi = "¬°S√≠, acepto ser tu San Valent√≠n! üíñ";
                abrirWhatsApp(mensajeSi);
            }, 3000); // 3000 milisegundos = 3 segundos
        });
    </script>
</body>
</html>
